<!DOCTYPE html>
<html lang="en">

<head>
  <title>Rate {{ anime.title }}</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Include Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Include DaisyUI -->
  <link href="https://cdn.jsdelivr.net/npm/daisyui@2.51.5/dist/full.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
  <div class="flex items-center justify-center h-screen">
    <div class="card card-side bg-base-100 shadow-xl max-w-xl">
      <figure><img class="h-full w-[200px]" src="{{anime.image}}" alt="{{anime.title}}" /></figure>
      <div class="card-body flex flex-col justify-center">
        <h2 class="card-title font-bold text-2xl">{{anime.title}}</h2>

        <div class="flex gap-2 items-center -ml-2">
          <div class="rating rating-lg rating-half">
            <input type="radio" id="0.0" value="0.0" class="rating-hidden" />
            <input type="radio" id="0.5" value="0.5" class="bg-yellow-500 mask mask-star-2 mask-half-1" />
            <input type="radio" id="1.0" value="1.0" name="rating-10"
              class="bg-yellow-500 mask mask-star-2 mask-half-2" />
            <input type="radio" id="1.5" value="1.5" class="bg-yellow-500 mask mask-star-2 mask-half-1" />
            <input type="radio" id="2.0" value="2.0" name="rating-10"
              class="bg-yellow-500 mask mask-star-2 mask-half-2" />
            <input type="radio" id="2.5" value="2.5" class="bg-yellow-500 mask mask-star-2 mask-half-1" /> <input
              type="radio" id="3.0" value="3.0" name="rating-10" class="bg-yellow-500 mask mask-star-2 mask-half-2" />
            <input type="radio" id="3.5" value="3.5" class="bg-yellow-500 mask mask-star-2 mask-half-1" />
            <input type="radio" id="4.0" value="4.0" name="rating-10"
              class="bg-yellow-500 mask mask-star-2 mask-half-2" />
            <input type="radio" id="4.5" value="4.5" class="bg-yellow-500 mask mask-star-2 mask-half-1" />
            <input type="radio" id="5.0" value="5.0" name="rating-10"
              class="bg-yellow-500 mask mask-star-2 mask-half-2" />
          </div>

          <div>
            <p id="rate-info"></p>
          </div>
        </div>

        <div class="card-actions justify-end mt-4">
          <button class="btn btn-primary">Rate</button>
        </div>
      </div>
    </div>
  </div>
  </div>

  <script>
    let anime = "{{anime}}";

    // parse to valid JSON
    const sanitized = anime.replace(/&#39;/g, '"');
    anime = JSON.parse(sanitized);
  </script>
  <script src="{{ url_for('static', filename='rate.js') }}"></script>
</body>

</html>
